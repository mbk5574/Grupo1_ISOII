<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Realizar Devolución</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
    <form th:action="@{/realizar-devolucion}" method="post">
        <p>Seleccione el préstamo a devolver:
            <select name="idPrestamo" required>
                <option value="" disabled selected>Seleccione un préstamo</option>
                <th:block th:each="prestamo : ${prestamos}">
                    <option th:value="${prestamo.id_prestamo}" 
                            th:text="${prestamo.titulo != null ? prestamo.titulo.titulo_obra : 'Sin título'} + ' - ' + ${prestamo.usuario != null ? prestamo.usuario.nombre : 'Usuario desconocido'}">
                    </option>
                </th:block>
            </select>
        </p>
        <input type="submit" value="Realizar Devolución" />
    </form>
</body>
</html>
